<div>
    <div>
        <!-- <ul > -->
        <!-- <li>
            <span>
              <table>
                <tr>
                  <th class="col col1">S.No</th>
                  <th class="col col2">Campaign</th>
                  <th class="col col3">Total Leads</th>
                  <th class="col col4">LTC</th>
                  <th class="col col5">Not Interested</th>
                  <th class="col col6">Remaining Leads</th>
                </tr>
              </table>
            </span>
          </li>
         
          <li *ngFor="let list of reportdata; let i = index; first as isFirst">
            <span>
              <table>
                <tr (click)="getcampaignvendor(list.campaign_id,false,i)">
                  <td class="col col1">
                    {{ i + 1 }}
                  </td>
                  <td class="col col2">{{ list.campaign_name }}</td>
                  <td class="col col3">{{ list.LEADCOUNT }}</td>
                  <td class="col col4">{{ list.LEADTOCUSTOMER }}</td>
                  <td class="col col5">{{ list.NOTINTERESTEDLEAD }}</td>
                  <td class="col col6">{{ list.remaining_leads }}</td>
                </tr>
              </table>
            </span> -->


        <div>
            <!-- <ul>
                <li>
                  <span>
                    <table>
                      <tr>
                        <th class="col col1">S.No</th>
                        <th class="col col2">Vendor</th>
                        <th class="col col3">Total Leads</th>
                        <th class="col col4">LTC</th>
                        <th class="col col5">Not Interested</th>
                        <th class="col col6">Remaining Leads</th>
                      </tr>
                    </table>
                  </span>
                </li>

                <li *ngFor="let tab of list.vendor_list; first as isFirst;let j=index">
                  <span>
                    <table>
                      <tr (click)="getvendoremployeeleadsdata(i,j,tab?.vendor_id,list.campaign_id)">
                        <td class="col col1">
                          {{ j + 1 }}
                        </td>
                        <td class="col col2">{{ tab.vendor_name }}</td>
                        <td class="col col3">{{ tab.LEADCOUNT }}</td>
                        <td class="col col4">{{ tab.LEADTOCUSTOMER }}</td>
                        <td class="col col5">{{ tab.NOTINTERESTEDLEAD }}</td>
                        <td class="col col6">{{ tab.remaining_leads }}</td>
                      </tr>
                    </table>
                  </span> -->

            <div style="display: flex;justify-content: space-between;">

                <h2 style="text-align: left;margin-left: 2%;">Lead Report</h2>
                <button type="button" mat-stroked-button data-toggle="modal" data-target="#limits"
                    (click)="getemployeelimits()" style="background-color: #f5c68b;float: right;margin-right: 10px;">
                    Employee Limits
                </button>
            </div>

            <!-- <div class="wtree1">
                <ul>
                    <li>
                        <span>
                            <table>
                                <tr>
                                    <th class="col col1">S.No</th>
                                    <th class="col col2">Employee</th>
                                    <th class="col col3">Total Leads</th>
                                    <th class="col col4">LTC</th>
                                    <th class="col col5">Not Interested</th>
                                    <th class="col col6">Remaining Leads</th>
                                </tr>
                            </table>
                        </span>
                    </li>
                    <li *ngFor="let emp of vendoremployeeleads; first as isFirst;let k=index">
                        <span>
                            <table>
                                <tr>
                                    <td (click)="getemployeeleads(k,1,emp?.employee_id)" class="col col1 tdhighlight">
                                        {{ k + 1 }}
                                    </td>
                                    <td (click)="getemployeeleads(k,1,emp?.employee_id)" class="col col2 tdhighlight ">{{
                                        emp.employee_name }}</td>
                                    <td (click)="getemployeeleads(k,1,emp?.employee_id)"
                                        [ngClass]="(emp.leadview == 1)? 'activetd':''" class="col col3 tdhighlight ">{{ emp.emp_leads
                                        }}</td>
                                    <td (click)="getemployeeleads(k,2,emp?.employee_id)"
                                        [ngClass]="(emp.leadview == 2)? 'activetd':''" class="col col4 tdhighlight ">{{
                                        emp.lead_to_customer }}</td>
                                    <td (click)="getemployeeleads(k,3,emp?.employee_id)"
                                        [ngClass]="(emp.leadview == 3)? 'activetd':''" class="col col5 tdhighlight ">{{
                                        emp.not_int_lead }}</td>
                                    <td (click)="getemployeeleads(k,1,emp?.employee_id)" class="col col6 tdhighlight ">{{
                                        emp.remaining_leads }}</td>
                                </tr>
                            </table>
                        </span>

                        <div class="wtree" [@displayState]="emp.is_expansion">
                            <ul>
                                <li>
                                    <span>
                                        <table>
                                            <tr>
                                                <th class="col col1">S.No</th>
                                                <th class="col col2">Lead</th>
                                                <th class="col col3">Product</th>
                                               
                                            </tr>
                                        </table>
                                    </span>
                                </li>
                                <li *ngFor="let data of emp.leadsdata; first as isFirst;let i=index">
                                    <span>
                                        <table>

                                            <tr>
                                                <td class="col col1">{{i+1}}

                                                   
                                                </td>
                                                <td class="col col2">{{data?.lead_id?.lead_first_name}}</td>
                                                <td class="col col3">{{data?.product_id?.name}}</td>
                                            
                                            </tr>
                                        </table>

                                    </span>
                                </li>
                            </ul>

                        </div>

                    </li>
                </ul>

            </div> -->

            <div>
                <!-- <ul class="wtree1"> -->





                <div class="wtree1">
                    <ul>
                        <li>
                            <span>
                                <table>
                                    <tr>
                                        <th class="col col1">S.No</th>
                                        <th class="col col2">Campaign</th>
                                        <th class="col col3">Total Leads</th>
                                        <th class="col col4">LTC</th>
                                        <th class="col col5">Not Interested</th>
                                        <th class="col col6">Remaining Leads</th>
                                    </tr>
                                </table>
                            </span>
                        </li>

                        <li *ngFor="let tab of vendorleadsreport; first as isFirst;let i=index">
                            <span>
                                <table>
                                    <tr (click)="getcampaignemployee(i,this.vendorid,tab.campaign_id)">
                                        <td class="col col1">
                                            {{ i + 1 }}
                                        </td>
                                        <td class="col col2">{{ tab.campaign_name }}</td>
                                        <td class="col col3">{{ tab.leadcount }}</td>
                                        <td class="col col4">{{ tab.lead_to_customer }}</td>
                                        <td class="col col5">{{ tab.not_int_lead }}</td>
                                        <td class="col col6">{{ tab.remaining_leads }}</td>
                                    </tr>
                                </table>
                            </span>

                            <div class="wtree" [@displayState]="tab.is_expansion">
                                <ul>
                                    <li>
                                        <span>
                                            <table>
                                                <tr>
                                                    <th class="col col1">S.No</th>
                                                    <th class="col col2">Employee</th>
                                                    <th class="col col3">Total Leads</th>
                                                    <th class="col col4">LTC</th>
                                                    <th class="col col5">Not Interested</th>
                                                    <th class="col col6">Remaining Leads</th>
                                                </tr>
                                            </table>
                                        </span>
                                    </li>
                                    <li *ngFor="let emp of tab.employee_list; first as isFirst;let j=index">
                                        <span>
                                            <table>
                                                <tr
                                                    (click)="getleadsofcampaignemployee(i,j,tab.campaign_id,this.vendorid,emp?.employee_id)">
                                                    <td class="col col1">
                                                        {{ j + 1 }}
                                                    </td>
                                                    <td class="col col2">{{ emp.employee_name }}</td>
                                                    <td class="col col3">{{ emp.emp_leads }}</td>
                                                    <td class="col col4">{{ emp.lead_to_customer }}</td>
                                                    <td class="col col5">{{ emp.not_int_lead }}</td>
                                                    <td class="col col6">{{ emp.remaining_leads }}</td>
                                                </tr>
                                            </table>
                                        </span>

                                        <div class="wtree" [@displayState]="emp.is_expansion">
                                            <ul>
                                                <li>
                                                    <span>
                                                        <table>
                                                            <tr>
                                                                <th class="col col1">S.No</th>
                                                                <th class="col col2">Lead</th>
                                                                <th class="col col3">Product</th>
                                                                <!-- <th class="col col4">Aadhaar</th>
                                              <th class="col col5">Pan</th> -->
                                                                <!-- <th class="col col6">Remaining Leads</th> -->
                                                            </tr>
                                                        </table>
                                                    </span>
                                                </li>
                                                <li *ngFor="let data of emp.leaadsdata; first as isFirst;let k=index">
                                                    <span>
                                                        <table>

                                                            <tr>
                                                                <td class="col col1">{{k+1}}

                                                                    <small *ngIf="data?.lead_status == 2"
                                                                        style="color: green;" class="leadstatus">*
                                                                        LTC</small>
                                                                    <small *ngIf="data?.lead_status == 3"
                                                                        style="color: red;" class="leadstatus">*
                                                                        NI</small>

                                                                </td>
                                                                <td class="col col2">{{data?.lead_id?.lead_first_name}}
                                                                </td>
                                                                <td class="col col3">{{data?.product_id?.name}}</td>
                                                                <!-- <td class="col col4">{{data?.lead_id?.aadhaar_no}}</td>
                                              <td class="col col5">{{data?.lead_id?.pan_no}}</td> -->
                                                            </tr>
                                                        </table>

                                                    </span>
                                                </li>
                                            </ul>

                                        </div>

                                    </li>
                                </ul>

                            </div>

                        </li>



                    </ul>
                </div>
                <!-- </li> -->
                <!-- </ul> -->
            </div>

            <!-- </li>



              </ul> -->
        </div>
        <!-- </li> -->
        <!-- </ul> -->
    </div>
</div>

<div class="modal" id="limits">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">


            <div class="modal-header">
                <h4 class="modal-title">Employee Limits</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>


            <div class="modal-body">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>S.No</th>
                            <th>Employee</th>
                            <th>Limit</th>

                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let tab of vendoremployeelimitsdata;let i=index">
                            <td>{{i+1}}</td>
                            <td>{{tab?.employee_ids?.full_name}}</td>
                            <td>

                                <progress value={{tab?.active_count}} max={{tab?.limit}}> </progress>
                                <br>
                                <span>{{tab?.active_count | number}}/{{tab?.limit | number}}</span>

                            </td>

                        </tr>
                    </tbody>
                </table>
            </div>


            <div class="modal-footer center">

                <button type="button" class="btn btn-light" data-bs-dismiss="modal"
                    style="border-radius: 7px;margin-left: 10px;border-color: black;background-color: white;">Close</button>
            </div>

        </div>
    </div>
</div>